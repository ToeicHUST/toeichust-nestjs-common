#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# âš ï¸  WARNING: DO NOT DELETE OR MODIFY THIS FILE
# This hook runs lint-staged before each commit
# Automatically formats and lints only staged files
# See .lintstagedrc.json for configuration

echo "ğŸ“¦ Generating barrel files..."
npm run generate-barrels

# ThÃªm file index vá»«a táº¡o vÃ o git Ä‘á»ƒ lint-staged cÃ³ thá»ƒ xá»­ lÃ½
git add src/index.ts 

echo "ğŸ¨ Running lint-staged on changed files..."

npx lint-staged

if [ $? -eq 0 ]; then
  echo "âœ… Code formatting and linting passed!"
else
  echo "âŒ Lint-staged failed! Please fix the issues above."
  exit 1
fi
